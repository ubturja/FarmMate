{"ast":null,"code":"var _jsxFileName = \"/home/turja/Projects/FarmMate (2) /farmmate-prototype/frontend/src/components/AIAnalysis.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Upload, Camera, X, CheckCircle, AlertCircle, Loader } from 'lucide-react';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AIAnalysisContainer = styled.div`\n  padding: 2rem;\n  max-width: 800px;\n  margin: 0 auto;\n`;\n_c = AIAnalysisContainer;\nconst Header = styled.div`\n  text-align: center;\n  margin-bottom: 2rem;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  color: white;\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin: 0 0 1rem 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n`;\n_c3 = Title;\nconst Subtitle = styled.p`\n  color: white;\n  font-size: 1.1rem;\n  opacity: 0.9;\n  margin: 0;\n`;\n_c4 = Subtitle;\nconst UploadSection = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  padding: 2rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n`;\n_c5 = UploadSection;\nconst UploadArea = styled.div`\n  border: 2px dashed ${props => props.isDragOver ? '#667eea' : '#d1d5db'};\n  border-radius: 12px;\n  padding: 3rem 2rem;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  background: ${props => props.isDragOver ? 'rgba(102, 126, 234, 0.05)' : 'transparent'};\n\n  &:hover {\n    border-color: #667eea;\n    background: rgba(102, 126, 234, 0.05);\n  }\n`;\n_c6 = UploadArea;\nconst UploadIcon = styled.div`\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  color: #6b7280;\n`;\n_c7 = UploadIcon;\nconst UploadText = styled.div`\n  font-size: 1.1rem;\n  color: #374151;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n`;\n_c8 = UploadText;\nconst UploadSubtext = styled.div`\n  font-size: 0.9rem;\n  color: #6b7280;\n  margin-bottom: 1rem;\n`;\n_c9 = UploadSubtext;\nconst FileInput = styled.input`\n  display: none;\n`;\n_c0 = FileInput;\nconst Button = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  margin: 0 auto;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n_c1 = Button;\nconst ImagePreview = styled.div`\n  margin-top: 1rem;\n  text-align: center;\n`;\n_c10 = ImagePreview;\nconst PreviewImage = styled.img`\n  max-width: 200px;\n  max-height: 200px;\n  border-radius: 8px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n`;\n_c11 = PreviewImage;\nconst RemoveButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.5rem 1rem;\n  background: #ef4444;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  cursor: pointer;\n  margin-top: 0.5rem;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: #dc2626;\n  }\n`;\n_c12 = RemoveButton;\nconst AnalysisSection = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  padding: 2rem;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n`;\n_c13 = AnalysisSection;\nconst AnalysisTitle = styled.h3`\n  color: #1f2937;\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0 0 1.5rem 0;\n  text-align: center;\n`;\n_c14 = AnalysisTitle;\nconst AnalysisGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1.5rem;\n`;\n_c15 = AnalysisGrid;\nconst AnalysisCard = styled.div`\n  padding: 1.5rem;\n  background: rgba(107, 114, 128, 0.05);\n  border-radius: 12px;\n  border-left: 4px solid ${props => {\n  if (props.type === 'disease') return '#ef4444';\n  if (props.type === 'quality') return '#10b981';\n  if (props.type === 'confidence') return '#3b82f6';\n  return '#6b7280';\n}};\n`;\n_c16 = AnalysisCard;\nconst AnalysisLabel = styled.div`\n  font-size: 0.875rem;\n  color: #6b7280;\n  font-weight: 500;\n  margin-bottom: 0.5rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n_c17 = AnalysisLabel;\nconst AnalysisValue = styled.div`\n  font-size: 1.25rem;\n  color: #1f2937;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n`;\n_c18 = AnalysisValue;\nconst AnalysisDescription = styled.div`\n  font-size: 0.875rem;\n  color: #6b7280;\n  line-height: 1.4;\n`;\n_c19 = AnalysisDescription;\nconst LoadingSpinner = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  padding: 2rem;\n  color: #6b7280;\n  font-size: 1.1rem;\n`;\n_c20 = LoadingSpinner;\nconst AIAnalysis = () => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysisResult, setAnalysisResult] = useState(null);\n  const handleFileSelect = file => {\n    if (file && file.type.startsWith('image/')) {\n      setSelectedFile(file);\n      setAnalysisResult(null);\n    } else {\n      toast.error('Please select a valid image file');\n    }\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    setIsDragOver(true);\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    setIsDragOver(false);\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    setIsDragOver(false);\n    const file = e.dataTransfer.files[0];\n    handleFileSelect(file);\n  };\n  const handleFileInputChange = e => {\n    const file = e.target.files[0];\n    handleFileSelect(file);\n  };\n  const removeImage = () => {\n    setSelectedFile(null);\n    setAnalysisResult(null);\n  };\n  const analyzeImage = async () => {\n    if (!selectedFile) return;\n    setIsAnalyzing(true);\n    try {\n      const formData = new FormData();\n      formData.append('images', selectedFile);\n\n      // Auto-detect crop type from filename\n      const fileName = selectedFile.name.toLowerCase();\n      let detectedCrop = '';\n      if (fileName.includes('tomato')) detectedCrop = 'tomato';else if (fileName.includes('carrot')) detectedCrop = 'carrot';else if (fileName.includes('lettuce')) detectedCrop = 'lettuce';else if (fileName.includes('potato')) detectedCrop = 'potato';else if (fileName.includes('pepper')) detectedCrop = 'pepper';\n      if (detectedCrop) {\n        formData.append('cropType', detectedCrop);\n      }\n      const response = await fetch('http://localhost:3001/api/ai/analyze', {\n        method: 'POST',\n        body: formData\n      });\n      if (response.ok) {\n        const result = await response.json();\n        const data = result.data;\n\n        // Transform the response to match the expected format\n        const analysisResult = {\n          cropType: data.detectedCrop || 'Unknown',\n          disease: {\n            detected: data.disease,\n            confidence: Math.round(data.confidence * 100),\n            description: data.description,\n            severity: data.severity\n          },\n          quality: {\n            score: data.qualityScore,\n            grade: data.qualityScore >= 90 ? 'Excellent' : data.qualityScore >= 80 ? 'Good' : data.qualityScore >= 70 ? 'Fair' : 'Poor',\n            description: data.qualityScore >= 80 ? 'Good quality produce with minor imperfections.' : 'Quality issues detected. Review recommendations.'\n          },\n          recommendations: data.recommendations || [],\n          treatment: data.treatment,\n          analysis: data.analysis\n        };\n        setAnalysisResult(analysisResult);\n        toast.success('Analysis completed successfully!');\n      } else {\n        throw new Error('Analysis failed');\n      }\n    } catch (error) {\n      console.error('Analysis error:', error);\n      toast.error('Analysis failed. Please try again.');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AIAnalysisContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"AI-Powered Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n        children: \"Upload images of your crops for disease detection and quality scoring using advanced machine learning models.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(UploadSection, {\n      children: [/*#__PURE__*/_jsxDEV(UploadArea, {\n        isDragOver: isDragOver,\n        onDragOver: handleDragOver,\n        onDragLeave: handleDragLeave,\n        onDrop: handleDrop,\n        onClick: () => document.getElementById('fileInput').click(),\n        children: [/*#__PURE__*/_jsxDEV(UploadIcon, {\n          children: /*#__PURE__*/_jsxDEV(Upload, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(UploadText, {\n          children: \"Upload Crop Images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(UploadSubtext, {\n          children: \"Drag and drop your images here, or click to browse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          children: [/*#__PURE__*/_jsxDEV(Camera, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), \"Choose Files\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FileInput, {\n          id: \"fileInput\",\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: handleFileInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), selectedFile && /*#__PURE__*/_jsxDEV(ImagePreview, {\n        children: [/*#__PURE__*/_jsxDEV(PreviewImage, {\n          src: URL.createObjectURL(selectedFile),\n          alt: \"Selected crop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(RemoveButton, {\n            onClick: removeImage,\n            children: [/*#__PURE__*/_jsxDEV(X, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this), \"Remove Image\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this), selectedFile && !analysisResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '2rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: analyzeImage,\n        disabled: isAnalyzing,\n        children: isAnalyzing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Loader, {\n            size: 20,\n            className: \"animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 17\n          }, this), \"Analyzing...\"]\n        }, void 0, true) : 'Analyze Image'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 9\n    }, this), isAnalyzing && /*#__PURE__*/_jsxDEV(AnalysisSection, {\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        children: [/*#__PURE__*/_jsxDEV(Loader, {\n          size: 24,\n          className: \"animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this), \"Analyzing your crop image...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 9\n    }, this), analysisResult && /*#__PURE__*/_jsxDEV(AnalysisSection, {\n      children: [/*#__PURE__*/_jsxDEV(AnalysisTitle, {\n        children: \"Analysis Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AnalysisGrid, {\n        children: [/*#__PURE__*/_jsxDEV(AnalysisCard, {\n          type: \"disease\",\n          children: [/*#__PURE__*/_jsxDEV(AnalysisLabel, {\n            children: \"Disease Detection\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AnalysisValue, {\n            children: analysisResult.disease.detected\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AnalysisDescription, {\n            children: analysisResult.disease.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AnalysisCard, {\n          type: \"quality\",\n          children: [/*#__PURE__*/_jsxDEV(AnalysisLabel, {\n            children: \"Quality Score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AnalysisValue, {\n            children: [analysisResult.quality.score, \"/100\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AnalysisDescription, {\n            children: analysisResult.quality.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AnalysisCard, {\n          type: \"confidence\",\n          children: [/*#__PURE__*/_jsxDEV(AnalysisLabel, {\n            children: \"Confidence\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AnalysisValue, {\n            children: [analysisResult.disease.confidence, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AnalysisDescription, {\n            children: \"AI model confidence level\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }, this), analysisResult.recommendations && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            color: '#1f2937',\n            marginBottom: '1rem'\n          },\n          children: \"Recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            color: '#6b7280',\n            lineHeight: '1.6'\n          },\n          children: analysisResult.recommendations.map((rec, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: rec\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 5\n  }, this);\n};\n_s(AIAnalysis, \"K8m0cHyS143KNfvqreQ6s9E0xZo=\");\n_c21 = AIAnalysis;\nexport default AIAnalysis;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21;\n$RefreshReg$(_c, \"AIAnalysisContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Subtitle\");\n$RefreshReg$(_c5, \"UploadSection\");\n$RefreshReg$(_c6, \"UploadArea\");\n$RefreshReg$(_c7, \"UploadIcon\");\n$RefreshReg$(_c8, \"UploadText\");\n$RefreshReg$(_c9, \"UploadSubtext\");\n$RefreshReg$(_c0, \"FileInput\");\n$RefreshReg$(_c1, \"Button\");\n$RefreshReg$(_c10, \"ImagePreview\");\n$RefreshReg$(_c11, \"PreviewImage\");\n$RefreshReg$(_c12, \"RemoveButton\");\n$RefreshReg$(_c13, \"AnalysisSection\");\n$RefreshReg$(_c14, \"AnalysisTitle\");\n$RefreshReg$(_c15, \"AnalysisGrid\");\n$RefreshReg$(_c16, \"AnalysisCard\");\n$RefreshReg$(_c17, \"AnalysisLabel\");\n$RefreshReg$(_c18, \"AnalysisValue\");\n$RefreshReg$(_c19, \"AnalysisDescription\");\n$RefreshReg$(_c20, \"LoadingSpinner\");\n$RefreshReg$(_c21, \"AIAnalysis\");","map":{"version":3,"names":["React","useState","styled","Upload","Camera","X","CheckCircle","AlertCircle","Loader","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","AIAnalysisContainer","div","_c","Header","_c2","Title","h1","_c3","Subtitle","p","_c4","UploadSection","_c5","UploadArea","props","isDragOver","_c6","UploadIcon","_c7","UploadText","_c8","UploadSubtext","_c9","FileInput","input","_c0","Button","button","_c1","ImagePreview","_c10","PreviewImage","img","_c11","RemoveButton","_c12","AnalysisSection","_c13","AnalysisTitle","h3","_c14","AnalysisGrid","_c15","AnalysisCard","type","_c16","AnalysisLabel","_c17","AnalysisValue","_c18","AnalysisDescription","_c19","LoadingSpinner","_c20","AIAnalysis","_s","selectedFile","setSelectedFile","setIsDragOver","isAnalyzing","setIsAnalyzing","analysisResult","setAnalysisResult","handleFileSelect","file","startsWith","error","handleDragOver","e","preventDefault","handleDragLeave","handleDrop","dataTransfer","files","handleFileInputChange","target","removeImage","analyzeImage","formData","FormData","append","fileName","name","toLowerCase","detectedCrop","includes","response","fetch","method","body","ok","result","json","data","cropType","disease","detected","confidence","Math","round","description","severity","quality","score","qualityScore","grade","recommendations","treatment","analysis","success","Error","console","children","_jsxFileName","lineNumber","columnNumber","onDragOver","onDragLeave","onDrop","onClick","document","getElementById","click","size","id","accept","onChange","src","URL","createObjectURL","alt","style","textAlign","marginBottom","disabled","className","marginTop","color","lineHeight","map","rec","index","_c21","$RefreshReg$"],"sources":["/home/turja/Projects/FarmMate (2) /farmmate-prototype/frontend/src/components/AIAnalysis.js"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Upload, Camera, X, CheckCircle, AlertCircle, Loader } from 'lucide-react';\nimport { toast } from 'react-toastify';\n\nconst AIAnalysisContainer = styled.div`\n  padding: 2rem;\n  max-width: 800px;\n  margin: 0 auto;\n`;\n\nconst Header = styled.div`\n  text-align: center;\n  margin-bottom: 2rem;\n`;\n\nconst Title = styled.h1`\n  color: white;\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin: 0 0 1rem 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n`;\n\nconst Subtitle = styled.p`\n  color: white;\n  font-size: 1.1rem;\n  opacity: 0.9;\n  margin: 0;\n`;\n\nconst UploadSection = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  padding: 2rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n`;\n\nconst UploadArea = styled.div`\n  border: 2px dashed ${props => props.isDragOver ? '#667eea' : '#d1d5db'};\n  border-radius: 12px;\n  padding: 3rem 2rem;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  background: ${props => props.isDragOver ? 'rgba(102, 126, 234, 0.05)' : 'transparent'};\n\n  &:hover {\n    border-color: #667eea;\n    background: rgba(102, 126, 234, 0.05);\n  }\n`;\n\nconst UploadIcon = styled.div`\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  color: #6b7280;\n`;\n\nconst UploadText = styled.div`\n  font-size: 1.1rem;\n  color: #374151;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n`;\n\nconst UploadSubtext = styled.div`\n  font-size: 0.9rem;\n  color: #6b7280;\n  margin-bottom: 1rem;\n`;\n\nconst FileInput = styled.input`\n  display: none;\n`;\n\nconst Button = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  margin: 0 auto;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n\nconst ImagePreview = styled.div`\n  margin-top: 1rem;\n  text-align: center;\n`;\n\nconst PreviewImage = styled.img`\n  max-width: 200px;\n  max-height: 200px;\n  border-radius: 8px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n`;\n\nconst RemoveButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.5rem 1rem;\n  background: #ef4444;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  cursor: pointer;\n  margin-top: 0.5rem;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: #dc2626;\n  }\n`;\n\nconst AnalysisSection = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  padding: 2rem;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n`;\n\nconst AnalysisTitle = styled.h3`\n  color: #1f2937;\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0 0 1.5rem 0;\n  text-align: center;\n`;\n\nconst AnalysisGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1.5rem;\n`;\n\nconst AnalysisCard = styled.div`\n  padding: 1.5rem;\n  background: rgba(107, 114, 128, 0.05);\n  border-radius: 12px;\n  border-left: 4px solid ${props => {\n    if (props.type === 'disease') return '#ef4444';\n    if (props.type === 'quality') return '#10b981';\n    if (props.type === 'confidence') return '#3b82f6';\n    return '#6b7280';\n  }};\n`;\n\nconst AnalysisLabel = styled.div`\n  font-size: 0.875rem;\n  color: #6b7280;\n  font-weight: 500;\n  margin-bottom: 0.5rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nconst AnalysisValue = styled.div`\n  font-size: 1.25rem;\n  color: #1f2937;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n`;\n\nconst AnalysisDescription = styled.div`\n  font-size: 0.875rem;\n  color: #6b7280;\n  line-height: 1.4;\n`;\n\nconst LoadingSpinner = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  padding: 2rem;\n  color: #6b7280;\n  font-size: 1.1rem;\n`;\n\nconst AIAnalysis = () => {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysisResult, setAnalysisResult] = useState(null);\n\n  const handleFileSelect = (file) => {\n    if (file && file.type.startsWith('image/')) {\n      setSelectedFile(file);\n      setAnalysisResult(null);\n    } else {\n      toast.error('Please select a valid image file');\n    }\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    setIsDragOver(false);\n    const file = e.dataTransfer.files[0];\n    handleFileSelect(file);\n  };\n\n  const handleFileInputChange = (e) => {\n    const file = e.target.files[0];\n    handleFileSelect(file);\n  };\n\n  const removeImage = () => {\n    setSelectedFile(null);\n    setAnalysisResult(null);\n  };\n\n  const analyzeImage = async () => {\n    if (!selectedFile) return;\n\n    setIsAnalyzing(true);\n    \n    try {\n      const formData = new FormData();\n      formData.append('images', selectedFile);\n      \n      // Auto-detect crop type from filename\n      const fileName = selectedFile.name.toLowerCase();\n      let detectedCrop = '';\n      if (fileName.includes('tomato')) detectedCrop = 'tomato';\n      else if (fileName.includes('carrot')) detectedCrop = 'carrot';\n      else if (fileName.includes('lettuce')) detectedCrop = 'lettuce';\n      else if (fileName.includes('potato')) detectedCrop = 'potato';\n      else if (fileName.includes('pepper')) detectedCrop = 'pepper';\n      \n      if (detectedCrop) {\n        formData.append('cropType', detectedCrop);\n      }\n\n      const response = await fetch('http://localhost:3001/api/ai/analyze', {\n        method: 'POST',\n        body: formData\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        const data = result.data;\n        \n        // Transform the response to match the expected format\n        const analysisResult = {\n          cropType: data.detectedCrop || 'Unknown',\n          disease: {\n            detected: data.disease,\n            confidence: Math.round(data.confidence * 100),\n            description: data.description,\n            severity: data.severity\n          },\n          quality: {\n            score: data.qualityScore,\n            grade: data.qualityScore >= 90 ? 'Excellent' : \n                   data.qualityScore >= 80 ? 'Good' : \n                   data.qualityScore >= 70 ? 'Fair' : 'Poor',\n            description: data.qualityScore >= 80 ? \n              'Good quality produce with minor imperfections.' : \n              'Quality issues detected. Review recommendations.'\n          },\n          recommendations: data.recommendations || [],\n          treatment: data.treatment,\n          analysis: data.analysis\n        };\n        \n        setAnalysisResult(analysisResult);\n        toast.success('Analysis completed successfully!');\n      } else {\n        throw new Error('Analysis failed');\n      }\n    } catch (error) {\n      console.error('Analysis error:', error);\n      toast.error('Analysis failed. Please try again.');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  return (\n    <AIAnalysisContainer>\n      <Header>\n        <Title>AI-Powered Analysis</Title>\n        <Subtitle>\n          Upload images of your crops for disease detection and quality scoring using advanced machine learning models.\n        </Subtitle>\n      </Header>\n\n      <UploadSection>\n        <UploadArea\n          isDragOver={isDragOver}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          onDrop={handleDrop}\n          onClick={() => document.getElementById('fileInput').click()}\n        >\n          <UploadIcon>\n            <Upload size={48} />\n          </UploadIcon>\n          <UploadText>Upload Crop Images</UploadText>\n          <UploadSubtext>\n            Drag and drop your images here, or click to browse\n          </UploadSubtext>\n          <Button>\n            <Camera size={20} />\n            Choose Files\n          </Button>\n          <FileInput\n            id=\"fileInput\"\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={handleFileInputChange}\n          />\n        </UploadArea>\n\n        {selectedFile && (\n          <ImagePreview>\n            <PreviewImage\n              src={URL.createObjectURL(selectedFile)}\n              alt=\"Selected crop\"\n            />\n            <div>\n              <RemoveButton onClick={removeImage}>\n                <X size={16} />\n                Remove Image\n              </RemoveButton>\n            </div>\n          </ImagePreview>\n        )}\n      </UploadSection>\n\n      {selectedFile && !analysisResult && (\n        <div style={{ textAlign: 'center', marginBottom: '2rem' }}>\n          <Button onClick={analyzeImage} disabled={isAnalyzing}>\n            {isAnalyzing ? (\n              <>\n                <Loader size={20} className=\"animate-spin\" />\n                Analyzing...\n              </>\n            ) : (\n              'Analyze Image'\n            )}\n          </Button>\n        </div>\n      )}\n\n      {isAnalyzing && (\n        <AnalysisSection>\n          <LoadingSpinner>\n            <Loader size={24} className=\"animate-spin\" />\n            Analyzing your crop image...\n          </LoadingSpinner>\n        </AnalysisSection>\n      )}\n\n      {analysisResult && (\n        <AnalysisSection>\n          <AnalysisTitle>Analysis Results</AnalysisTitle>\n          <AnalysisGrid>\n            <AnalysisCard type=\"disease\">\n              <AnalysisLabel>Disease Detection</AnalysisLabel>\n              <AnalysisValue>{analysisResult.disease.detected}</AnalysisValue>\n              <AnalysisDescription>\n                {analysisResult.disease.description}\n              </AnalysisDescription>\n            </AnalysisCard>\n\n            <AnalysisCard type=\"quality\">\n              <AnalysisLabel>Quality Score</AnalysisLabel>\n              <AnalysisValue>{analysisResult.quality.score}/100</AnalysisValue>\n              <AnalysisDescription>\n                {analysisResult.quality.description}\n              </AnalysisDescription>\n            </AnalysisCard>\n\n            <AnalysisCard type=\"confidence\">\n              <AnalysisLabel>Confidence</AnalysisLabel>\n              <AnalysisValue>{analysisResult.disease.confidence}%</AnalysisValue>\n              <AnalysisDescription>\n                AI model confidence level\n              </AnalysisDescription>\n            </AnalysisCard>\n          </AnalysisGrid>\n\n          {analysisResult.recommendations && (\n            <div style={{ marginTop: '2rem' }}>\n              <h4 style={{ color: '#1f2937', marginBottom: '1rem' }}>Recommendations</h4>\n              <ul style={{ color: '#6b7280', lineHeight: '1.6' }}>\n                {analysisResult.recommendations.map((rec, index) => (\n                  <li key={index}>{rec}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </AnalysisSection>\n      )}\n    </AIAnalysisContainer>\n  );\n};\n\nexport default AIAnalysis;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}