{"ast":null,"code":"var _jsxFileName = \"/home/turja/Projects/FarmMate (2) /farmmate-prototype/frontend/src/components/Provenance.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { QrCode, Search, CheckCircle, XCircle, Clock, MapPin, User, Calendar, Plus } from 'lucide-react';\nimport { provenanceAPI } from '../services/api';\nimport { toast } from 'react-toastify';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProvenanceContainer = styled.div`\n  padding: 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n_c = ProvenanceContainer;\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  flex-wrap: wrap;\n  gap: 1rem;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  color: white;\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin: 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n`;\n_c3 = Title;\nconst SearchContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n  flex-wrap: wrap;\n`;\n_c4 = SearchContainer;\nconst SearchInput = styled.input`\n  padding: 0.75rem 1rem;\n  border: none;\n  border-radius: 8px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 1rem;\n  min-width: 300px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);\n  }\n`;\n_c5 = SearchInput;\nconst SearchButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);\n  }\n`;\n_c6 = SearchButton;\nconst QRScannerButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);\n  }\n`;\n_c7 = QRScannerButton;\nconst BatchDetails = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  padding: 2rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n`;\n_c8 = BatchDetails;\nconst BatchHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 2rem;\n  flex-wrap: wrap;\n  gap: 1rem;\n`;\n_c9 = BatchHeader;\nconst BatchTitle = styled.h2`\n  color: #1f2937;\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0;\n`;\n_c0 = BatchTitle;\nconst VerificationStatus = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border-radius: 8px;\n  font-weight: 600;\n  background: ${props => props.verified ? '#10b981' : '#ef4444'};\n  color: white;\n`;\n_c1 = VerificationStatus;\nconst BatchInfo = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n`;\n_c10 = BatchInfo;\nconst InfoCard = styled.div`\n  padding: 1rem;\n  background: rgba(107, 114, 128, 0.05);\n  border-radius: 8px;\n  border-left: 4px solid #667eea;\n`;\n_c11 = InfoCard;\nconst InfoLabel = styled.div`\n  font-size: 0.875rem;\n  color: #6b7280;\n  font-weight: 500;\n  margin-bottom: 0.25rem;\n`;\n_c12 = InfoLabel;\nconst InfoValue = styled.div`\n  font-size: 1rem;\n  color: #1f2937;\n  font-weight: 600;\n`;\n_c13 = InfoValue;\nconst ProvenanceTimeline = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  padding: 2rem;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n`;\n_c14 = ProvenanceTimeline;\nconst TimelineTitle = styled.h3`\n  color: #1f2937;\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0 0 1.5rem 0;\n`;\n_c15 = TimelineTitle;\nconst TimelineItem = styled.div`\n  display: flex;\n  gap: 1rem;\n  padding: 1rem 0;\n  border-bottom: 1px solid rgba(107, 114, 128, 0.1);\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n_c16 = TimelineItem;\nconst TimelineIcon = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: ${props => {\n  switch (props.type) {\n    case 'harvest':\n      return '#10b981';\n    case 'transport':\n      return '#3b82f6';\n    case 'storage':\n      return '#f59e0b';\n    case 'processing':\n      return '#8b5cf6';\n    default:\n      return '#6b7280';\n  }\n}};\n  color: white;\n  font-weight: 600;\n  flex-shrink: 0;\n`;\n_c17 = TimelineIcon;\nconst TimelineContent = styled.div`\n  flex: 1;\n`;\n_c18 = TimelineContent;\nconst TimelineHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n`;\n_c19 = TimelineHeader;\nconst TimelineItemTitle = styled.h4`\n  color: #1f2937;\n  font-size: 1rem;\n  font-weight: 600;\n  margin: 0;\n`;\n_c20 = TimelineItemTitle;\nconst TimelineTime = styled.div`\n  color: #6b7280;\n  font-size: 0.875rem;\n`;\n_c21 = TimelineTime;\nconst TimelineDescription = styled.p`\n  color: #6b7280;\n  font-size: 0.9rem;\n  margin: 0 0 0.5rem 0;\n`;\n_c22 = TimelineDescription;\nconst TimelineLocation = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  color: #6b7280;\n  font-size: 0.875rem;\n`;\n_c23 = TimelineLocation;\nconst AddNoteButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  margin-top: 1rem;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);\n  }\n`;\n_c24 = AddNoteButton;\nconst LoadingSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4rem;\n  color: white;\n  font-size: 1.2rem;\n`;\n_c25 = LoadingSpinner;\nconst ErrorMessage = styled.div`\n  background: rgba(239, 68, 68, 0.1);\n  border: 1px solid rgba(239, 68, 68, 0.3);\n  color: #dc2626;\n  padding: 1rem;\n  border-radius: 8px;\n  margin-bottom: 2rem;\n`;\n_c26 = ErrorMessage;\nconst Provenance = () => {\n  _s();\n  const location = useLocation();\n  const [batchId, setBatchId] = useState('');\n  const [batchData, setBatchData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Check for batchId in URL query parameters\n  useEffect(() => {\n    const urlParams = new URLSearchParams(location.search);\n    const queryBatchId = urlParams.get('batchId');\n    if (queryBatchId) {\n      setBatchId(queryBatchId);\n      // Automatically search for the batch\n      handleSearchWithId(queryBatchId);\n    }\n  }, [location.search]);\n  const handleSearch = async () => {\n    if (!batchId.trim()) {\n      toast.error('Please enter a batch ID');\n      return;\n    }\n    try {\n      setLoading(true);\n      setError('');\n      const response = await provenanceAPI.getBatch(batchId);\n      setBatchData(response.data.data);\n    } catch (error) {\n      console.error('Search failed:', error);\n      setError('Batch not found or failed to load data');\n      setBatchData(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleQRScan = () => {\n    // In a real implementation, this would open a QR scanner\n    toast.info('QR scanner would open here');\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString();\n  };\n  const getTypeIcon = type => {\n    switch (type) {\n      case 'harvest':\n        return 'üåæ';\n      case 'transport':\n        return 'üöö';\n      case 'storage':\n        return 'üè™';\n      case 'processing':\n        return '‚öôÔ∏è';\n      default:\n        return 'üìù';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ProvenanceContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Provenance Tracker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchContainer, {\n        children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n          type: \"text\",\n          placeholder: \"Enter batch ID or scan QR code\",\n          value: batchId,\n          onChange: e => setBatchId(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && handleSearch()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchButton, {\n          onClick: handleSearch,\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), \"Search\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(QRScannerButton, {\n          onClick: handleQRScan,\n          children: [/*#__PURE__*/_jsxDEV(QrCode, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), \"Scan QR\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      children: \"Loading batch data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 9\n    }, this), batchData && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(BatchDetails, {\n        children: [/*#__PURE__*/_jsxDEV(BatchHeader, {\n          children: [/*#__PURE__*/_jsxDEV(BatchTitle, {\n            children: [batchData.batchInfo.cropType, \" - Batch #\", batchData.batchId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(VerificationStatus, {\n            verified: batchData.batchInfo.dataVerified,\n            children: batchData.batchInfo.dataVerified ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 21\n              }, this), \"Verified\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 21\n              }, this), \"Unverified\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(BatchInfo, {\n          children: [/*#__PURE__*/_jsxDEV(InfoCard, {\n            children: [/*#__PURE__*/_jsxDEV(InfoLabel, {\n              children: \"Crop Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InfoValue, {\n              children: batchData.batchInfo.cropType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(InfoCard, {\n            children: [/*#__PURE__*/_jsxDEV(InfoLabel, {\n              children: \"Variety\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InfoValue, {\n              children: batchData.batchInfo.variety || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(InfoCard, {\n            children: [/*#__PURE__*/_jsxDEV(InfoLabel, {\n              children: \"Harvest Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InfoValue, {\n              children: formatDate(batchData.batchInfo.harvestDate)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(InfoCard, {\n            children: [/*#__PURE__*/_jsxDEV(InfoLabel, {\n              children: \"Quality Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InfoValue, {\n              children: [batchData.batchInfo.qualityScore, \"/100\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ProvenanceTimeline, {\n        children: [/*#__PURE__*/_jsxDEV(TimelineTitle, {\n          children: \"Provenance Timeline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this), batchData.provenanceNotes.map((note, index) => /*#__PURE__*/_jsxDEV(TimelineItem, {\n          children: [/*#__PURE__*/_jsxDEV(TimelineIcon, {\n            type: note.type,\n            children: getTypeIcon(note.type)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TimelineContent, {\n            children: [/*#__PURE__*/_jsxDEV(TimelineHeader, {\n              children: [/*#__PURE__*/_jsxDEV(TimelineItemTitle, {\n                children: note.type.charAt(0).toUpperCase() + note.type.slice(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TimelineTime, {\n                children: formatDate(note.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TimelineDescription, {\n              children: note.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 19\n            }, this), note.location && /*#__PURE__*/_jsxDEV(TimelineLocation, {\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 23\n              }, this), note.location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 15\n        }, this)), batchData.blockchainEvents.map((event, index) => /*#__PURE__*/_jsxDEV(TimelineItem, {\n          children: [/*#__PURE__*/_jsxDEV(TimelineIcon, {\n            type: \"blockchain\",\n            children: \"\\u26D3\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TimelineContent, {\n            children: [/*#__PURE__*/_jsxDEV(TimelineHeader, {\n              children: [/*#__PURE__*/_jsxDEV(TimelineItemTitle, {\n                children: [\"Blockchain Event: \", event.event]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TimelineTime, {\n                children: [\"Block #\", event.blockNumber]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TimelineDescription, {\n              children: [\"Transaction: \", event.transactionHash]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 17\n          }, this)]\n        }, `event-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(AddNoteButton, {\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 15\n          }, this), \"Add Provenance Note\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 337,\n    columnNumber: 5\n  }, this);\n};\n_s(Provenance, \"nY1YnU7IxzL+ji5agGEBLySABfg=\", false, function () {\n  return [useLocation];\n});\n_c27 = Provenance;\nexport default Provenance;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27;\n$RefreshReg$(_c, \"ProvenanceContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"SearchContainer\");\n$RefreshReg$(_c5, \"SearchInput\");\n$RefreshReg$(_c6, \"SearchButton\");\n$RefreshReg$(_c7, \"QRScannerButton\");\n$RefreshReg$(_c8, \"BatchDetails\");\n$RefreshReg$(_c9, \"BatchHeader\");\n$RefreshReg$(_c0, \"BatchTitle\");\n$RefreshReg$(_c1, \"VerificationStatus\");\n$RefreshReg$(_c10, \"BatchInfo\");\n$RefreshReg$(_c11, \"InfoCard\");\n$RefreshReg$(_c12, \"InfoLabel\");\n$RefreshReg$(_c13, \"InfoValue\");\n$RefreshReg$(_c14, \"ProvenanceTimeline\");\n$RefreshReg$(_c15, \"TimelineTitle\");\n$RefreshReg$(_c16, \"TimelineItem\");\n$RefreshReg$(_c17, \"TimelineIcon\");\n$RefreshReg$(_c18, \"TimelineContent\");\n$RefreshReg$(_c19, \"TimelineHeader\");\n$RefreshReg$(_c20, \"TimelineItemTitle\");\n$RefreshReg$(_c21, \"TimelineTime\");\n$RefreshReg$(_c22, \"TimelineDescription\");\n$RefreshReg$(_c23, \"TimelineLocation\");\n$RefreshReg$(_c24, \"AddNoteButton\");\n$RefreshReg$(_c25, \"LoadingSpinner\");\n$RefreshReg$(_c26, \"ErrorMessage\");\n$RefreshReg$(_c27, \"Provenance\");","map":{"version":3,"names":["React","useState","useEffect","styled","QrCode","Search","CheckCircle","XCircle","Clock","MapPin","User","Calendar","Plus","provenanceAPI","toast","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","ProvenanceContainer","div","_c","Header","_c2","Title","h1","_c3","SearchContainer","_c4","SearchInput","input","_c5","SearchButton","button","_c6","QRScannerButton","_c7","BatchDetails","_c8","BatchHeader","_c9","BatchTitle","h2","_c0","VerificationStatus","props","verified","_c1","BatchInfo","_c10","InfoCard","_c11","InfoLabel","_c12","InfoValue","_c13","ProvenanceTimeline","_c14","TimelineTitle","h3","_c15","TimelineItem","_c16","TimelineIcon","type","_c17","TimelineContent","_c18","TimelineHeader","_c19","TimelineItemTitle","h4","_c20","TimelineTime","_c21","TimelineDescription","p","_c22","TimelineLocation","_c23","AddNoteButton","_c24","LoadingSpinner","_c25","ErrorMessage","_c26","Provenance","_s","location","batchId","setBatchId","batchData","setBatchData","loading","setLoading","error","setError","urlParams","URLSearchParams","search","queryBatchId","get","handleSearchWithId","handleSearch","trim","response","getBatch","data","console","handleQRScan","info","formatDate","dateString","Date","toLocaleString","getTypeIcon","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onKeyPress","key","onClick","size","batchInfo","cropType","dataVerified","variety","harvestDate","qualityScore","provenanceNotes","map","note","index","charAt","toUpperCase","slice","timestamp","description","blockchainEvents","event","blockNumber","transactionHash","_c27","$RefreshReg$"],"sources":["/home/turja/Projects/FarmMate (2) /farmmate-prototype/frontend/src/components/Provenance.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { QrCode, Search, CheckCircle, XCircle, Clock, MapPin, User, Calendar, Plus } from 'lucide-react';\nimport { provenanceAPI } from '../services/api';\nimport { toast } from 'react-toastify';\nimport { useLocation } from 'react-router-dom';\n\nconst ProvenanceContainer = styled.div`\n  padding: 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  flex-wrap: wrap;\n  gap: 1rem;\n`;\n\nconst Title = styled.h1`\n  color: white;\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin: 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n`;\n\nconst SearchContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n  flex-wrap: wrap;\n`;\n\nconst SearchInput = styled.input`\n  padding: 0.75rem 1rem;\n  border: none;\n  border-radius: 8px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 1rem;\n  min-width: 300px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);\n  }\n`;\n\nconst SearchButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);\n  }\n`;\n\nconst QRScannerButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);\n  }\n`;\n\nconst BatchDetails = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  padding: 2rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n`;\n\nconst BatchHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 2rem;\n  flex-wrap: wrap;\n  gap: 1rem;\n`;\n\nconst BatchTitle = styled.h2`\n  color: #1f2937;\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0;\n`;\n\nconst VerificationStatus = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border-radius: 8px;\n  font-weight: 600;\n  background: ${props => props.verified ? '#10b981' : '#ef4444'};\n  color: white;\n`;\n\nconst BatchInfo = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n`;\n\nconst InfoCard = styled.div`\n  padding: 1rem;\n  background: rgba(107, 114, 128, 0.05);\n  border-radius: 8px;\n  border-left: 4px solid #667eea;\n`;\n\nconst InfoLabel = styled.div`\n  font-size: 0.875rem;\n  color: #6b7280;\n  font-weight: 500;\n  margin-bottom: 0.25rem;\n`;\n\nconst InfoValue = styled.div`\n  font-size: 1rem;\n  color: #1f2937;\n  font-weight: 600;\n`;\n\nconst ProvenanceTimeline = styled.div`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  padding: 2rem;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n`;\n\nconst TimelineTitle = styled.h3`\n  color: #1f2937;\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0 0 1.5rem 0;\n`;\n\nconst TimelineItem = styled.div`\n  display: flex;\n  gap: 1rem;\n  padding: 1rem 0;\n  border-bottom: 1px solid rgba(107, 114, 128, 0.1);\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst TimelineIcon = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: ${props => {\n    switch (props.type) {\n      case 'harvest': return '#10b981';\n      case 'transport': return '#3b82f6';\n      case 'storage': return '#f59e0b';\n      case 'processing': return '#8b5cf6';\n      default: return '#6b7280';\n    }\n  }};\n  color: white;\n  font-weight: 600;\n  flex-shrink: 0;\n`;\n\nconst TimelineContent = styled.div`\n  flex: 1;\n`;\n\nconst TimelineHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n`;\n\nconst TimelineItemTitle = styled.h4`\n  color: #1f2937;\n  font-size: 1rem;\n  font-weight: 600;\n  margin: 0;\n`;\n\nconst TimelineTime = styled.div`\n  color: #6b7280;\n  font-size: 0.875rem;\n`;\n\nconst TimelineDescription = styled.p`\n  color: #6b7280;\n  font-size: 0.9rem;\n  margin: 0 0 0.5rem 0;\n`;\n\nconst TimelineLocation = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  color: #6b7280;\n  font-size: 0.875rem;\n`;\n\nconst AddNoteButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  margin-top: 1rem;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);\n  }\n`;\n\nconst LoadingSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4rem;\n  color: white;\n  font-size: 1.2rem;\n`;\n\nconst ErrorMessage = styled.div`\n  background: rgba(239, 68, 68, 0.1);\n  border: 1px solid rgba(239, 68, 68, 0.3);\n  color: #dc2626;\n  padding: 1rem;\n  border-radius: 8px;\n  margin-bottom: 2rem;\n`;\n\nconst Provenance = () => {\n  const location = useLocation();\n  const [batchId, setBatchId] = useState('');\n  const [batchData, setBatchData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Check for batchId in URL query parameters\n  useEffect(() => {\n    const urlParams = new URLSearchParams(location.search);\n    const queryBatchId = urlParams.get('batchId');\n    if (queryBatchId) {\n      setBatchId(queryBatchId);\n      // Automatically search for the batch\n      handleSearchWithId(queryBatchId);\n    }\n  }, [location.search]);\n\n  const handleSearch = async () => {\n    if (!batchId.trim()) {\n      toast.error('Please enter a batch ID');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError('');\n      const response = await provenanceAPI.getBatch(batchId);\n      setBatchData(response.data.data);\n    } catch (error) {\n      console.error('Search failed:', error);\n      setError('Batch not found or failed to load data');\n      setBatchData(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleQRScan = () => {\n    // In a real implementation, this would open a QR scanner\n    toast.info('QR scanner would open here');\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  const getTypeIcon = (type) => {\n    switch (type) {\n      case 'harvest': return 'üåæ';\n      case 'transport': return 'üöö';\n      case 'storage': return 'üè™';\n      case 'processing': return '‚öôÔ∏è';\n      default: return 'üìù';\n    }\n  };\n\n  return (\n    <ProvenanceContainer>\n      <Header>\n        <Title>Provenance Tracker</Title>\n        <SearchContainer>\n          <SearchInput\n            type=\"text\"\n            placeholder=\"Enter batch ID or scan QR code\"\n            value={batchId}\n            onChange={(e) => setBatchId(e.target.value)}\n            onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\n          />\n          <SearchButton onClick={handleSearch}>\n            <Search size={20} />\n            Search\n          </SearchButton>\n          <QRScannerButton onClick={handleQRScan}>\n            <QrCode size={20} />\n            Scan QR\n          </QRScannerButton>\n        </SearchContainer>\n      </Header>\n\n      {loading && (\n        <LoadingSpinner>Loading batch data...</LoadingSpinner>\n      )}\n\n      {error && (\n        <ErrorMessage>{error}</ErrorMessage>\n      )}\n\n      {batchData && (\n        <>\n          <BatchDetails>\n            <BatchHeader>\n              <BatchTitle>\n                {batchData.batchInfo.cropType} - Batch #{batchData.batchId}\n              </BatchTitle>\n              <VerificationStatus verified={batchData.batchInfo.dataVerified}>\n                {batchData.batchInfo.dataVerified ? (\n                  <>\n                    <CheckCircle size={16} />\n                    Verified\n                  </>\n                ) : (\n                  <>\n                    <XCircle size={16} />\n                    Unverified\n                  </>\n                )}\n              </VerificationStatus>\n            </BatchHeader>\n\n            <BatchInfo>\n              <InfoCard>\n                <InfoLabel>Crop Type</InfoLabel>\n                <InfoValue>{batchData.batchInfo.cropType}</InfoValue>\n              </InfoCard>\n              <InfoCard>\n                <InfoLabel>Variety</InfoLabel>\n                <InfoValue>{batchData.batchInfo.variety || 'N/A'}</InfoValue>\n              </InfoCard>\n              <InfoCard>\n                <InfoLabel>Harvest Date</InfoLabel>\n                <InfoValue>{formatDate(batchData.batchInfo.harvestDate)}</InfoValue>\n              </InfoCard>\n              <InfoCard>\n                <InfoLabel>Quality Score</InfoLabel>\n                <InfoValue>{batchData.batchInfo.qualityScore}/100</InfoValue>\n              </InfoCard>\n            </BatchInfo>\n          </BatchDetails>\n\n          <ProvenanceTimeline>\n            <TimelineTitle>Provenance Timeline</TimelineTitle>\n            \n            {batchData.provenanceNotes.map((note, index) => (\n              <TimelineItem key={index}>\n                <TimelineIcon type={note.type}>\n                  {getTypeIcon(note.type)}\n                </TimelineIcon>\n                <TimelineContent>\n                  <TimelineHeader>\n                    <TimelineItemTitle>{note.type.charAt(0).toUpperCase() + note.type.slice(1)}</TimelineItemTitle>\n                    <TimelineTime>{formatDate(note.timestamp)}</TimelineTime>\n                  </TimelineHeader>\n                  <TimelineDescription>{note.description}</TimelineDescription>\n                  {note.location && (\n                    <TimelineLocation>\n                      <MapPin size={14} />\n                      {note.location}\n                    </TimelineLocation>\n                  )}\n                </TimelineContent>\n              </TimelineItem>\n            ))}\n\n            {batchData.blockchainEvents.map((event, index) => (\n              <TimelineItem key={`event-${index}`}>\n                <TimelineIcon type=\"blockchain\">\n                  ‚õìÔ∏è\n                </TimelineIcon>\n                <TimelineContent>\n                  <TimelineHeader>\n                    <TimelineItemTitle>Blockchain Event: {event.event}</TimelineItemTitle>\n                    <TimelineTime>Block #{event.blockNumber}</TimelineTime>\n                  </TimelineHeader>\n                  <TimelineDescription>\n                    Transaction: {event.transactionHash}\n                  </TimelineDescription>\n                </TimelineContent>\n              </TimelineItem>\n            ))}\n\n            <AddNoteButton>\n              <Plus size={16} />\n              Add Provenance Note\n            </AddNoteButton>\n          </ProvenanceTimeline>\n        </>\n      )}\n    </ProvenanceContainer>\n  );\n};\n\nexport default Provenance;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}